<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PrettyData — Decor Signals</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font: 16px/1.4 system-ui, sans-serif; margin: 24px; }
    .grid { display: grid; gap: 24px; grid-template-columns: 1fr 1fr; }
    h2 { margin: 0 0 8px; }
    .card { padding: 16px; border: 1px solid #eee; border-radius: 14px; box-shadow: 0 2px 6px rgba(0,0,0,.04); }
  </style>
</head>
<body>
  <h1>PrettyData — Decor Signals</h1>
  <div class="grid">
    <div class="card"><h2>Top Risers</h2><canvas id="inc"></canvas></div>
    <div class="card"><h2>Top Fallers</h2><canvas id="dec"></canvas></div>
  </div>
  <script>
    const base = 'https://raw.githubusercontent.com/<YOUR-USER>/<YOUR-REPO>/main/data/';
    async function loadCSV(name) {
      const txt = await fetch(base + name).then(r => r.text());
      const [header, ...rows] = txt.trim().split('\n');
      const cols = header.split(',');
      return rows.map(r => {
        const parts = r.split(',');
        const obj = {};
        cols.forEach((c,i)=> obj[c] = parts[i]);
        return obj;
      });
    }
    function bar(el, label, labels, values) {
      new Chart(document.getElementById(el), {
        type: 'bar',
        data: { labels, datasets: [{ label, data: values }] },
        options: { plugins:{ legend:{ display:false } }, scales:{ x:{ ticks:{ autoSkip:false }}}}
      });
    }
    (async () => {
      const inc = await loadCSV('decor_increasing_terms.csv');
      const dec = await loadCSV('decor_decreasing_terms.csv');
      bar('inc', 'Slope (↑ rising)', inc.map(d=>d.Term), inc.map(d=>+d.estimate));
      bar('dec', 'Slope (↓ falling)', dec.map(d=>d.Term), dec.map(d=>+d.estimate));
    })();
  </script>
</body>
</html>
